<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>articull.train package &#8212; articull 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="articull.utils package" href="articull.utils.html" />
    <link rel="prev" title="articull.misc package" href="articull.misc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="articull-train-package">
<h1>articull.train package<a class="headerlink" href="#articull-train-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-articull.train.generate_labels">
<span id="articull-train-generate-labels-module"></span><h2>articull.train.generate_labels module<a class="headerlink" href="#module-articull.train.generate_labels" title="Link to this heading">¶</a></h2>
<p>generate_labels.py</p>
<p>This module provides functions to generate labels for input data and save the results to a specified output directory.
It includes functionality for validating input arguments, processing data frames, applying assignment functions, and creating plots.</p>
<dl class="simple">
<dt>Functions:</dt><dd><dl class="simple">
<dt>generate_labels(input_file, output_dir, clone1, clone2, alpha):</dt><dd><p>Generates labels for the input data and saves the results to the specified output directory.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="articull.train.generate_labels.generate_labels">
<span class="sig-prename descclassname"><span class="pre">articull.train.generate_labels.</span></span><span class="sig-name descname"><span class="pre">generate_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clone1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clone2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#articull.train.generate_labels.generate_labels" title="Link to this definition">¶</a></dt>
<dd><p>Generates labels for the input data and saves the results to the specified output directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_file</strong> (<em>str</em>) – Path to the input file containing the data.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – Directory where the output files will be saved.</p></li>
<li><p><strong>clone1</strong> (<em>str</em>) – Name of the first clone to be used in processing.</p></li>
<li><p><strong>clone2</strong> (<em>str</em>) – Name of the second clone to be used in processing.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Parameter to be used in the assignment function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This function performs the following steps:
1. Validates the input arguments.
2. Processes the input data frame using the specified clones.
3. Applies the assignment function to each row of the data frame in parallel.
4. Saves the resulting data frame with assignments to a TSV file in the output directory.
5. Prints the count of each assignment group.
6. Creates and saves a plot based on the processed data.</p>
</dd></dl>

</section>
<section id="module-articull.train.preprocessing">
<span id="articull-train-preprocessing-module"></span><h2>articull.train.preprocessing module<a class="headerlink" href="#module-articull.train.preprocessing" title="Link to this heading">¶</a></h2>
<p>preprocessing.py</p>
<p>This module provides functions for preprocessing variant and copy number data to compute cancer cell fractions (CCFs) for each variant in each clone.
It includes functionality for validating input arguments, processing signal data, parsing copy number data, calculating variant counts, computing CCFs, and plotting results.</p>
<dl class="simple">
<dt>Functions:</dt><dd><dl class="simple">
<dt>preprocessing(maf, bam_dirs, signals_dir, output_dir, fullbam, cellclone_file, hscn_file, use_cached_cn):</dt><dd><p>Preprocesses variant and copy number data to compute CCFs for each variant in each clone.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="articull.train.preprocessing.preprocessing">
<span class="sig-prename descclassname"><span class="pre">articull.train.preprocessing.</span></span><span class="sig-name descname"><span class="pre">preprocessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bam_dirs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signals_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullbam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cellclone_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hscn_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cached_cn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#articull.train.preprocessing.preprocessing" title="Link to this definition">¶</a></dt>
<dd><p>Preprocesses variant and copy number data to compute CCFs for each variant in each clone.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maf</strong> (<em>str</em>) – Path to the MAF (Mutation Annotation Format) file containing variant information.</p></li>
<li><p><strong>bam_dirs</strong> (<em>list</em>) – List of directories containing BAM files for each sample.</p></li>
<li><p><strong>signals_dir</strong> (<em>str</em>) – Directory containing signal files for copy number analysis.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – Directory where the output files will be saved.</p></li>
<li><p><strong>fullbam</strong> (<em>bool</em>) – Flag indicating whether to use full BAM files.</p></li>
<li><p><strong>cellclone_file</strong> (<em>str</em>) – Path to the cell clone file.</p></li>
<li><p><strong>hscn_file</strong> (<em>str</em>) – Path to the HSCN (High-Resolution Copy Number) file.</p></li>
<li><p><strong>use_cached_cn</strong> (<em>bool</em>) – Flag indicating whether to use cached copy number data.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If neither signals_dir nor both cellclone_file and hscn_file are provided.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-articull.train.train_classifier">
<span id="articull-train-train-classifier-module"></span><h2>articull.train.train_classifier module<a class="headerlink" href="#module-articull.train.train_classifier" title="Link to this heading">¶</a></h2>
<p>train_classifier.py</p>
<p>This module provides functions to train, test, and save machine learning classifiers using various models.
It includes functionality for reading input data, scaling data, training models, testing models, and saving the trained models and scalers.</p>
<dl class="simple">
<dt>Functions:</dt><dd><dl class="simple">
<dt>train_classifier(filelist, model_type, no_label_prop, output_dir):</dt><dd><p>Trains a classifier model using the provided data and parameters.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="articull.train.train_classifier.train_classifier">
<span class="sig-prename descclassname"><span class="pre">articull.train.train_classifier.</span></span><span class="sig-name descname"><span class="pre">train_classifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_label_prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#articull.train.train_classifier.train_classifier" title="Link to this definition">¶</a></dt>
<dd><p>Trains a classifier model using the provided data and parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filelist</strong> (<em>list</em><em> of </em><em>str</em>) – List of file paths containing the input data.</p></li>
<li><p><strong>model_type</strong> (<em>str</em>) – Type of model to train. Options are ‘randomforest’, ‘logistic’,
‘linearsvc’, ‘gradientboosting’, and ‘mlp’. Default is ‘gradientboosting’.</p></li>
<li><p><strong>no_label_prop</strong> (<em>bool</em>) – If True, indicates that the model will not perform label propagation.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – Directory where the trained model and scaler will be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the provided arguments are not valid.</p>
</dd>
</dl>
<dl class="simple">
<dt>This function performs the following steps:</dt><dd><ol class="arabic simple">
<li><p>Validates the input arguments.</p></li>
<li><p>Reads the input data and labels from the provided file list.</p></li>
<li><p>Splits the data into training and testing sets.</p></li>
<li><p>Scales the training data and applies the same scaling to the test data.</p></li>
<li><p>Trains the specified model using the scaled training data and labels.</p></li>
<li><p>Tests the trained model using the scaled test data and labels.</p></li>
<li><p>Saves the trained model and scaler to the specified output directory.</p></li>
</ol>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-articull.train">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-articull.train" title="Link to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">articull</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">src</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="articull.html">articull package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="articull.html#subpackages">Subpackages</a></li>
<li class="toctree-l3"><a class="reference internal" href="articull.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="articull.html#module-articull.main">articull.main module</a></li>
<li class="toctree-l3"><a class="reference internal" href="articull.html#module-articull">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generated/articull.html">articull</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">src</a><ul>
  <li><a href="articull.html">articull package</a><ul>
      <li>Previous: <a href="articull.misc.html" title="previous chapter">articull.misc package</a></li>
      <li>Next: <a href="articull.utils.html" title="next chapter">articull.utils package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Gryte Satas.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/articull.train.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>